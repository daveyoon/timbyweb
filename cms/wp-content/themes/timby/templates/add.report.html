<!-- @todo: move this header to its own directive -->
<header class="clearfix main-header">
  <div class="clearfix">
    <div class="pull-left">
      <h3>Timby</h3>
    </div>
    <div class="pull-right">
      <button>Logout</button>
    </div>
  </div>
  <nav class="tabs">
    <li class="tab-item">
      <a href="#/dashboard">Moderation</a>
    </li>
    <li class="tab-item">
      <a href="#/story/create">Create a Story</a>
    </li>
    <li class="tab-item active">
      <a href="#/addreport">Add Report</a>
    </li>
  </nav>
</header>
<section class="l-main-unit clearfix l-container l-padding-item" ng-controller="ReportController">
  <form action="" ng-submit="createReport($event)" ng-hide="working">
    <div class="l-group">
      <input type="text" ng-model="report.title" placeholder="Type the report's title here" class="h3-input">
    </div>
    <div class="l-group">
      <div class="text-editor text-editor-lined text-editor-height" id="report_content" text-angular placeholder="{{report.placeholderText}}" ta-toolbar="[['bold','italics','underline'],['ul','ol','quote','insertLink', 'unlink'],['redo','undo']]" ng-click="placeholder()" ng-model="report.description" ></div><!-- end description -->
    </div>
    <div class="row l-group">
      <div class="six">
        <h6 class="form-title">Author</h6>
        <select 
          ng-model="report.reporter"
          ng-options="user.name for user in wordpress.api_users">
            <option value="">Select a user</option>
        </select>
      </div>
       
      <div class="six">
        <h6 class="form-title">Date Reported</h6>
        <input 
        type="text" 
        class="form-control" 
        show-weeks="false" 
        datepicker-popup="{{format}}" 
        ng-model="report.date_reported" 
        is-open="opened" 
        min="minDate" 
        max="'2015-06-22'" 
        datepicker-options="dateOptions" 
        date-disabled="disabled(date, mode)" 
        ng-required="true" 
        close-text="Close" />
      </div>
    </div>

    <div class="row l-group">
      <div class="six">
        <h6 class="form-title">Sector</h6>
        <select chosen
                multiple
                ng-model="report.sectors"
                data-placeholder="Select a sector" 
                ng-options="term.name for term in wordpress.terms.sector"
                allow-single-deselect="true"
                width="'100%'">
                <option value=""></option>
        </select>
      </div>
      <div class="six">
        <h6 class="form-title">Entity</h6>
        <select chosen
                multiple
                ng-model="report.entities"
                data-placeholder="Select an entity" 
                ng-options="term.name for term in wordpress.terms.entity"
                allow-single-deselect="true"
                width="'100%'">
                <option value=""></option>
        </select>
      </div>
    </div>
    <div class="row l-group">
      <div class="six">
        <h6 class="form-title">Location</h6>
        <google-map 
          center="map.center" 
          zoom="map.zoom"
          draggable="true"
          events="map.events"
        >

          <marker coords="map.clickedMarker">
            <!--<marker-label content="map.clickedMarker.title" anchor="24 40" class="marker-labels"/>-->
            <window isIconVisibleOnClick="true">
              This is my clicked marker!
              <p class="muted">My marker will reappear when you close me.</p>
            </window>
          </marker>

        </google-map>
      </div>
      <div class="six">
        <div class="l-group">
          <h6 class="form-title">Select Image</h6>
          <input type="file" ng-file-select="onFileSelect('photo', $files)" multiple>
          <span ng-show="invalid.photo">{{invalid.photo}}</span>
        </div>
        <div class="l-group">
          <h6 class="form-title">Select a Video</h6>
          <input type="file" ng-file-select="onFileSelect('video',$files)" multiple>
          <span ng-show="invalid.video">{{invalid.video}}</span>
        </div>
        <div class="l-group">
          <h6 class="form-title">Select Audio</h6>
          <input type="file" ng-file-select="onFileSelect('audio', $files)" multiple>
          <span ng-show="invalid.audio">{{invalid.audio}}</span>
        </div>
        <div class="l-group">
          <input type="submit" value="Add Report" class="btn btn-edit">
        </div>
      </div>
    </div>
  </form>
  <h2 ng-show="working">Saving...</h2>
</section>

