<!-- @todo: move this header to its own directive -->
<header class="clearfix main-header">
  <div class="clearfix">
    <div class="pull-left">
      <h3>Timby</h3>
    </div>
    <div class="pull-right">
      <button>Logout</button>
    </div>
  </div>
  <nav class="tabs">
    <li class="tab-item">
      <a href="#/dashboard">Moderation</a>
    </li>
    <li class="tab-item">
      <a href="#">Create a Story</a>
    </li>
    <li class="tab-item active">
      <a href="#/addreport">Add Report</a>
    </li>
  </nav>
</header>
<section class="l-main-unit clearfix l-container" ng-controller="ReportController">
  <form action="" ng-submit="createReport($event)" ng-hide="working">
    <h3>Add a new report</h3>
    <div >
      Title
      <input type="text" ng-model="report.title">
    </div>
    <div >
      Description
      <div class="row l-group" id="report_content" text-angular ta-toolbar="[['bold','italics','underline'],['ul','ol','quote','insertLink', 'unlink'],['redo','undo']]" ng-model="report.description"></div><!-- end description -->
    </div>
    <div style="float:left; margin-right: 20px">
      Author
      <select 
        ng-model="report.reporter"
        ng-options="user.name for user in wordpress.api_users">
          <option value="">Select a user</option>
      </select>
    </div>    
    <div style="">
      Date Reported
      <input 
      type="text" 
      class="form-control" 
      show-weeks="false" 
      datepicker-popup="{{format}}" 
      ng-model="report.date_reported" 
      is-open="opened" 
      min="minDate" 
      max="'2015-06-22'" 
      datepicker-options="dateOptions" 
      date-disabled="disabled(date, mode)" 
      ng-required="true" 
      close-text="Close" />
    </div>
    <div style="">
      <h6>Select Image</h6>
      <input type="file" ng-file-select="onFileSelect('photo', $files)" multiple>
      <span ng-show="invalid.photo">{{invalid.photo}}</span>
    </div>
    <div style="">
      <h6>Select a Video</h6>
      <input type="file" ng-file-select="onFileSelect('video',$files)" multiple>
      <span ng-show="invalid.video">{{invalid.video}}</span>
    </div>
    <div style="">
      <h6>Select Audio</h6>
      <input type="file" ng-file-select="onFileSelect('audio', $files)" multiple>
      <span ng-show="invalid.audio">{{invalid.audio}}</span>
    </div>

    <div style="">
      Sector
      <select chosen
              multiple
              ng-model="report.sectors"
              data-placeholder="Select a sector" 
              ng-options="term.name for term in wordpress.terms.sector"
              allow-single-deselect="true"
              width="'100%'">
              <option value=""></option>
      </select>
    </div>
    <div style="">
      Entity
      <select chosen
              multiple
              ng-model="report.entities"
              data-placeholder="Select an entity" 
              ng-options="term.name for term in wordpress.terms.entity"
              allow-single-deselect="true"
              width="'100%'">
              <option value=""></option>
      </select>
    </div>
    <div style="">
      Location
      <google-map 
        center="map.center" 
        zoom="map.zoom"
        draggable="true"
        events="map.events"
      >

        <marker coords="map.clickedMarker">
          <!--<marker-label content="map.clickedMarker.title" anchor="24 40" class="marker-labels"/>-->
          <window isIconVisibleOnClick="true">
            This is my clicked marker!
            <p class="muted">My marker will reappear when you close me.</p>
          </window>
        </marker>

      </google-map>
    </div>

    <input type="submit" value="Add Report">
  </form>
  <h2 ng-show="working">Saving...</h2>
</section>

